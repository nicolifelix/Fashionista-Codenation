{"ast":null,"code":"import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\nconst INITIAL_STATE = {\n  products: [],\n  // mudar para catalog ou items\n  lastRequest: null,\n  product: {},\n  // mudar para catalogo\n  cart: [],\n  product: {},\n  isOpenSearch: false,\n  productCart: {}\n};\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return { ...state,\n        products: payload,\n        lastRequest: new Date().getTime()\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      const {\n        slug,\n        color\n      } = payload;\n      const catalog = state.products;\n      return { ...state,\n        product: catalog.find(({\n          name,\n          color_slug\n        }) => slugify(name) === slug && color_slug === color)\n      };\n\n    case productsActionTypes.ADD_ITEM:\n      return { ...state,\n        cart: [...state.cart, payload]\n      };\n\n    case productsActionTypes.SET_SIZE:\n      const {\n        size\n      } = payload;\n      const item = state.product;\n      return { ...state,\n        productCart: item.find(({\n          size\n        }) => item.size === size)\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/reducers/products.js"],"names":["productsActionTypes","slugify","INITIAL_STATE","products","lastRequest","product","cart","isOpenSearch","productCart","productsReducer","state","action","type","payload","GET_PRODUCTS_REQUEST","Date","getTime","SET_PRODUCT_DETAIL","slug","color","catalog","find","name","color_slug","ADD_ITEM","SET_SIZE","size","item"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,uBAApC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,QAAQ,EAAE,EADU;AACN;AACdC,EAAAA,WAAW,EAAE,IAFO;AAGpBC,EAAAA,OAAO,EAAE,EAHW;AAGP;AACbC,EAAAA,IAAI,EAAE,EAJc;AAKpBD,EAAAA,OAAO,EAAE,EALW;AAMpBE,EAAAA,YAAY,EAAE,KANM;AAOpBC,EAAAA,WAAW,EAAE;AAPO,CAAtB;AAUA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGR,aAAT,EAAwBS,MAAxB,KAAmC;AAChE,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACE,SAAKZ,mBAAmB,CAACc,oBAAzB;AACE,aAAO,EACL,GAAGJ,KADE;AAELP,QAAAA,QAAQ,EAAEU,OAFL;AAGLT,QAAAA,WAAW,EAAE,IAAIW,IAAJ,GAAWC,OAAX;AAHR,OAAP;;AAMF,SAAKhB,mBAAmB,CAACiB,kBAAzB;AACE,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBN,OAAxB;AACA,YAAMO,OAAO,GAAGV,KAAK,CAACP,QAAtB;AACA,aAAO,EACL,GAAGO,KADE;AAELL,QAAAA,OAAO,EAAEe,OAAO,CAACC,IAAR,CACP,CAAC;AAAEC,UAAAA,IAAF;AAAQC,UAAAA;AAAR,SAAD,KACEtB,OAAO,CAACqB,IAAD,CAAP,KAAkBJ,IAAlB,IAA0BK,UAAU,KAAKJ,KAFpC;AAFJ,OAAP;;AAQF,SAAKnB,mBAAmB,CAACwB,QAAzB;AACE,aAAO,EACL,GAAGd,KADE;AAELJ,QAAAA,IAAI,EAAE,CAAC,GAAGI,KAAK,CAACJ,IAAV,EAAgBO,OAAhB;AAFD,OAAP;;AAKF,SAAKb,mBAAmB,CAACyB,QAAzB;AACE,YAAM;AAAEC,QAAAA;AAAF,UAAWb,OAAjB;AACA,YAAMc,IAAI,GAAGjB,KAAK,CAACL,OAAnB;AACA,aAAO,EACL,GAAGK,KADE;AAELF,QAAAA,WAAW,EAAEmB,IAAI,CAACN,IAAL,CAAU,CAAC;AAAEK,UAAAA;AAAF,SAAD,KAAcC,IAAI,CAACD,IAAL,KAAcA,IAAtC;AAFR,OAAP;;AAKF;AACE,aAAOhB,KAAP;AAlCJ;AAoCD,CAtCM","sourcesContent":["import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\n\nconst INITIAL_STATE = {\n  products: [], // mudar para catalog ou items\n  lastRequest: null,\n  product: {}, // mudar para catalogo\n  cart: [],\n  product: {},\n  isOpenSearch: false,\n  productCart: {},\n};\n\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        products: payload,\n        lastRequest: new Date().getTime(),\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      const { slug, color } = payload;\n      const catalog = state.products;\n      return {\n        ...state,\n        product: catalog.find(\n          ({ name, color_slug }) =>\n            slugify(name) === slug && color_slug === color\n        ),\n      };\n\n    case productsActionTypes.ADD_ITEM:\n      return {\n        ...state,\n        cart: [...state.cart, payload],\n      };\n\n    case productsActionTypes.SET_SIZE:\n      const { size } = payload;\n      const item = state.product;\n      return {\n        ...state,\n        productCart: item.find(({ size }) => item.size === size),\n      };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}