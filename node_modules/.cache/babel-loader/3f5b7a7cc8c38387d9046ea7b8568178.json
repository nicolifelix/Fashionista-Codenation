{"ast":null,"code":"var _jsxFileName = \"/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/Search/Search.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { closeSearch } from '../../actions/search';\nimport { slugify } from '../../modules/slugify';\nimport ProductDetailSearch from '../../components/ProductDetailSearch';\nimport Loading from '../Loading/Loading';\nimport './Search.scss';\n\nconst Search = () => {\n  const dispatch = useDispatch();\n  const isSearchOpen = useSelector(state => state.search.isSearchOpen);\n  const products = useSelector(state => state.products.products);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n\n  const handleClose = () => {\n    dispatch(closeSearch());\n  };\n\n  useEffect(() => {\n    if (searchTerm.length >= 3) {\n      const filteredData = products.filter(({\n        name\n      }) => slugify(name).includes(slugify(searchTerm)));\n      setFilteredProducts(filteredData);\n    }\n  }, [searchTerm]);\n  return /*#__PURE__*/React.createElement(\"aside\", {\n    className: `search__overlay ${isSearchOpen ? 'is-open' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, ' ', \"Busca\", ' ', /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"buscar produto ...\",\n    value: searchTerm,\n    onChange: e => setSearchTerm(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"search__close\",\n    type: \"button\",\n    name: \"search__close\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n    name: \"close-circle-outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"search__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"search__items-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, filteredProducts.map((product, idx) => /*#__PURE__*/React.createElement(ProductDetailSearch, {\n    key: idx,\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/Search/Search.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","closeSearch","slugify","ProductDetailSearch","Loading","Search","dispatch","isSearchOpen","state","search","products","searchTerm","setSearchTerm","filteredProducts","setFilteredProducts","handleClose","length","filteredData","filter","name","includes","e","target","value","map","product","idx"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { closeSearch } from '../../actions/search';\nimport { slugify } from '../../modules/slugify';\n\nimport ProductDetailSearch from '../../components/ProductDetailSearch';\nimport Loading from '../Loading/Loading';\n\nimport './Search.scss';\n\nconst Search = () => {\n  const dispatch = useDispatch();\n  const isSearchOpen = useSelector((state) => state.search.isSearchOpen);\n  const products = useSelector((state) => state.products.products);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n\n  const handleClose = () => {\n    dispatch(closeSearch());\n  };\n\n  useEffect(() => {\n    if (searchTerm.length >= 3) {\n      const filteredData = products.filter(({ name }) =>\n        slugify(name).includes(slugify(searchTerm))\n      );\n\n      setFilteredProducts(filteredData);\n    }\n  }, [searchTerm]);\n\n  return (\n    <aside className={`search__overlay ${isSearchOpen ? 'is-open' : ''}`}>\n      <div className=\"search__sidebar\">\n        <div className=\"search__header\">\n          <span className=\"search__title\">\n            {' '}\n            Busca{' '}\n            <input\n              type=\"text\"\n              placeholder=\"buscar produto ...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </span>\n          <button\n            className=\"search__close\"\n            type=\"button\"\n            name=\"search__close\"\n            onClick={handleClose}\n          >\n            <ion-icon name=\"close-circle-outline\"></ion-icon>\n          </button>\n        </div>\n\n        <div className=\"search__content\">\n          <ul className=\"search__items\">\n            <li className=\"search__items-list\">\n              {filteredProducts.map((product, idx) => (\n                <ProductDetailSearch key={idx} product={product} />\n              ))}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </aside>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}