{"ast":null,"code":"var _jsxFileName = \"/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/ProductDetail/ProductDetail.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProducts } from '../../services/products';\nimport { setProductDetail, getProductsRequest, addItem } from '../../actions/products';\nimport Loading from '../Loading/';\nimport { urlParser } from '../../modules/urlParser';\nimport './ProductDetail.scss';\n\nconst ProductDetail = () => {\n  const selectedProduct = useSelector(state => state.products.product);\n  const products = useSelector(state => state.products.products);\n  const cart = useSelector(state => state.products.cart);\n  const [selectedSize, setSelectedSize] = useState('');\n  const dispatch = useDispatch();\n\n  const handleGetProducts = () => {\n    getProducts().then(data => dispatch(getProductsRequest(data)));\n  };\n\n  const handleAddItem = sku => dispatch(addItem(sku));\n\n  const handleSetSize = sku => setSelectedSize(sku);\n\n  useEffect(() => {\n    console.log(cart);\n  }, [cart]);\n  useEffect(() => {\n    if (products.length > 0) {\n      const message = urlParser();\n      dispatch(setProductDetail(message));\n    } else {\n      handleGetProducts();\n    }\n  }, [products, selectedProduct, window.location.pathname]);\n  {\n    /* console.log(selectedProduct); */\n  }\n\n  if (!Object.keys(selectedProduct).length) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    });\n  }\n\n  {\n    /* console.log(selectedSize); */\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: selectedProduct.image,\n    alt: \"nome do produto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product__price__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, selectedProduct.actual_price), selectedProduct.actual_price !== selectedProduct.regular_price && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product__price__discount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, selectedProduct.regular_price)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, selectedProduct.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, selectedProduct.sizes && selectedProduct.sizes.filter(({\n    available\n  }) => available).map(item => /*#__PURE__*/React.createElement(\"span\", {\n    key: item.sku,\n    sku: item.sku,\n    onClick: () => handleSetSize(item.sku),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 28\n    }\n  }, item.size))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add__cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn__cart\",\n    onClick: () => handleAddItem(selectedSize),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"adicionar ao carrinho\")))));\n};\n\nexport default ProductDetail;","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/ProductDetail/ProductDetail.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","getProducts","setProductDetail","getProductsRequest","addItem","Loading","urlParser","ProductDetail","selectedProduct","state","products","product","cart","selectedSize","setSelectedSize","dispatch","handleGetProducts","then","data","handleAddItem","sku","handleSetSize","console","log","length","message","window","location","pathname","Object","keys","image","actual_price","regular_price","name","sizes","filter","available","map","item","size"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProducts } from '../../services/products';\nimport { setProductDetail, getProductsRequest, addItem } from '../../actions/products';\nimport Loading from '../Loading/';\nimport { urlParser } from '../../modules/urlParser';\n\nimport './ProductDetail.scss';\n\nconst ProductDetail = () => {\n\n  const selectedProduct = useSelector((state) => state.products.product);\n  const products = useSelector((state) => state.products.products);\n  const cart = useSelector((state) => state.products.cart);\n\n  const [selectedSize, setSelectedSize] = useState(''); \n  \n  const dispatch = useDispatch();\n  \n  const handleGetProducts = () => {\n    getProducts().then((data) => dispatch(getProductsRequest(data)));\n  };\n\n  const handleAddItem = (sku) => dispatch(addItem(sku));\n\n  const handleSetSize = (sku) => setSelectedSize(sku);\n\n  useEffect(() => {\n    console.log(cart);\n  }, [cart]);\n\n  useEffect(() => {\n\n    if (products.length > 0) {\n      const message = urlParser();\n\n      dispatch(setProductDetail(message));\n    } else {\n      handleGetProducts();\n    }\n  }, [products, selectedProduct, window.location.pathname]);\n\n  {/* console.log(selectedProduct); */}\n\n  if (!Object.keys(selectedProduct).length) {\n    return <Loading />;\n  }\n\n  {/* console.log(selectedSize); */}\n\n  return (\n    <div className=\"product\">\n      <div className=\"product__body\">\n        <div className=\"product__image\">\n          <img src={selectedProduct.image} alt=\"nome do produto\" />\n        </div>\n\n        <div className=\"product__details\">\n          <div className=\"product__price\">\n            <span className=\"product__price__price\">\n              {selectedProduct.actual_price}\n            </span>\n            {selectedProduct.actual_price !== selectedProduct.regular_price && (\n              <span className=\"product__price__discount\">\n                {selectedProduct.regular_price}\n              </span>\n            )}\n          </div>\n\n          <div className=\"product__desc\">\n            <p>{selectedProduct.name}</p>\n          </div>\n\n          <div className=\"product__size\">\n            {selectedProduct.sizes && selectedProduct.sizes\n              .filter(({ available }) => available)\n              .map(item => <span key={item.sku} sku={item.sku} onClick={() => handleSetSize(item.sku)}>{item.size}</span>)\n            }\n          </div>\n\n          <div className=\"add__cart\">\n            <button className=\"btn__cart\" onClick={() => handleAddItem(selectedSize)}>adicionar ao carrinho</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"]},"metadata":{},"sourceType":"module"}