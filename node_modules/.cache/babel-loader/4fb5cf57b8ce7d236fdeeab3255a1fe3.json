{"ast":null,"code":"var _jsxFileName = \"/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/Search/Search.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport Loading from '../Loading/Loading';\nimport './Search.scss';\n\nconst Search = (props, {\n  productInfo\n}) => {\n  const history = useHistory();\n\n  const clickHandle = () => {\n    history.push(`/products/${productInfo.name}`, {\n      productInfo\n    });\n  };\n\n  const {\n    handleClose\n  } = props;\n  const [products, setProduct] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  useEffect(() => {\n    //setLoading(true);\n    axios.get('https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog').then(res => {\n      setProduct(res.data);\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    setFilteredProducts(products.filter(product => product.name.toLowerCase().includes(search.toLowerCase())));\n  }, [search, products]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"search__overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, ' ', \"Busca\", ' ', /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => setSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"search__close\",\n    type: \"button\",\n    name: \"search__close\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"X\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"search__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"search__items-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, filteredProducts.map((product, idx) => /*#__PURE__*/React.createElement(ProductDetailSearch, Object.assign({\n    key: idx\n  }, product, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }))))))));\n};\n\nconst ProductDetailSearch = props => {\n  const {\n    name,\n    image,\n    actual_price,\n    installments\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search__description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/products/${productInfo.name}`,\n    className: \"product__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: name,\n    style: {\n      width: '70px',\n      height: '70px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"product__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product__info__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"product__price-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, actual_price), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"product_installments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, installments))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/components/Search/Search.jsx"],"names":["React","useState","useEffect","Link","axios","useHistory","Loading","Search","props","productInfo","history","clickHandle","push","name","handleClose","products","setProduct","loading","setLoading","search","setSearch","filteredProducts","setFilteredProducts","get","then","res","data","filter","product","toLowerCase","includes","e","target","value","map","idx","ProductDetailSearch","image","actual_price","installments","width","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useHistory  } from \"react-router-dom\";\n\nimport Loading from '../Loading/Loading';\n\nimport './Search.scss';\n\nconst Search = (props, { productInfo }) => {\n\n\n  const history = useHistory()\n\n  const clickHandle = () => {\n\n    history.push(`/products/${productInfo.name}`,{ productInfo })\n  }\n\n  const { handleClose } = props;\n  const [products, setProduct] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  \n\n  useEffect(() => {\n    //setLoading(true);\n    axios\n      .get('https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog')\n      .then((res) => {\n        setProduct(res.data);\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    setFilteredProducts(\n      products.filter((product) =>\n        product.name.toLowerCase().includes(search.toLowerCase())\n      )\n    );\n  }, [search, products]);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <aside className=\"search__overlay\">\n      <div className=\"search__sidebar\">\n        <div className=\"search__header\">\n          <span className=\"search__title\">\n            {' '}\n            Busca{' '}\n            <input type=\"text\" onChange={(e) => setSearch(e.target.value)} />\n          </span>\n          <button\n            className=\"search__close\"\n            type=\"button\"\n            name=\"search__close\"\n            onClick={handleClose}\n          >\n            X\n          </button>\n        </div>\n\n        <div className=\"search__content\">\n          <ul className=\"search__items\">\n            <li className=\"search__items-list\">\n              {filteredProducts.map((product, idx) => (\n                <ProductDetailSearch key={idx} {...product} />\n              ))}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </aside>\n  );\n}\n\nconst ProductDetailSearch = (props) => {\n  const { name, image, actual_price, installments } = props;\n  return (\n    <div className=\"search__description\">\n      <div className=\"product__img\">\n        <Link to={`/products/${productInfo.name}`} className=\"product__name\" >\n          <img\n            src={image}\n            alt={name}\n            style={{ width: '70px', height: '70px' }}\n          />\n        </Link>\n      </div>\n      <div className=\"product__info\" >\n        <Link to=\"#\" className=\"product__name\" >\n          {name}\n        </Link>\n        <div className=\"product__info__price\">\n          <Link to=\"#\" className=\"product__price-search\">\n            {actual_price}\n          </Link>\n          <p className=\"product_installments\">\n            { installments }\n        </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}