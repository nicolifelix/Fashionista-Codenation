{"ast":null,"code":"import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\nconst INITIAL_STATE = {\n  products: [],\n  lastRequest: null,\n  product: {} // mudar para catalogo\n\n};\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return { ...state,\n        products: payload,\n        lastRequest: new Date().getTime()\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      // logica da busca por slug(name) + color-slug\n      const {\n        slug,\n        color\n      } = payload;\n      const catalog = state.products;\n      return { ...state,\n        product: catalog.find(({\n          name,\n          color_slug\n        }) => slugify(name) === slug && color_slug === color)\n      };\n    //   return {\n    //     item: [...state.all, item].filter((item) => item.name),\n    //   };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/reducers/products.js"],"names":["productsActionTypes","slugify","INITIAL_STATE","products","lastRequest","product","productsReducer","state","action","type","payload","GET_PRODUCTS_REQUEST","Date","getTime","SET_PRODUCT_DETAIL","slug","color","catalog","find","name","color_slug"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,uBAApC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,QAAQ,EAAE,EADU;AAEpBC,EAAAA,WAAW,EAAE,IAFO;AAGpBC,EAAAA,OAAO,EAAE,EAHW,CAGP;;AAHO,CAAtB;AAMA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGL,aAAT,EAAwBM,MAAxB,KAAmC;AAChE,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACE,SAAKT,mBAAmB,CAACW,oBAAzB;AACE,aAAO,EACL,GAAGJ,KADE;AAELJ,QAAAA,QAAQ,EAAEO,OAFL;AAGLN,QAAAA,WAAW,EAAE,IAAIQ,IAAJ,GAAWC,OAAX;AAHR,OAAP;;AAMF,SAAKb,mBAAmB,CAACc,kBAAzB;AACE;AAEA,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBN,OAAxB;AACA,YAAMO,OAAO,GAAGV,KAAK,CAACJ,QAAtB;AACA,aAAO,EACL,GAAGI,KADE;AAELF,QAAAA,OAAO,EAAEY,OAAO,CAACC,IAAR,CACP,CAAC;AAAEC,UAAAA,IAAF;AAAQC,UAAAA;AAAR,SAAD,KACEnB,OAAO,CAACkB,IAAD,CAAP,KAAkBJ,IAAlB,IAA0BK,UAAU,KAAKJ,KAFpC;AAFJ,OAAP;AAQF;AACA;AACA;;AAEA;AACE,aAAOT,KAAP;AA1BJ;AA4BD,CA9BM","sourcesContent":["import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\n\nconst INITIAL_STATE = {\n  products: [],\n  lastRequest: null,\n  product: {}, // mudar para catalogo\n};\n\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        products: payload,\n        lastRequest: new Date().getTime(),\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      // logica da busca por slug(name) + color-slug\n\n      const { slug, color } = payload;\n      const catalog = state.products;\n      return {\n        ...state,\n        product: catalog.find(\n          ({ name, color_slug }) =>\n            slugify(name) === slug && color_slug === color\n        ),\n      };\n\n    //   return {\n    //     item: [...state.all, item].filter((item) => item.name),\n    //   };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}