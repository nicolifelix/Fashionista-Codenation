{"ast":null,"code":"import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\nconst INITIAL_STATE = {\n  products: [],\n  // mudar para catalog ou items\n  lastRequest: null,\n  product: {},\n  // mudar para catalogo\n  cart: [],\n  product: {},\n  isOpenSearch: false\n};\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return { ...state,\n        products: payload,\n        lastRequest: new Date().getTime()\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      const {\n        slug,\n        color\n      } = payload;\n      const catalog = state.products;\n      return { ...state,\n        product: catalog.find(({\n          name,\n          color_slug\n        }) => slugify(name) === slug && color_slug === color)\n      };\n\n    case productsActionTypes.ADD_ITEM:\n      return { ...state,\n        cart: [...state.cart, payload]\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/nicoli/Documents/Codenation/squad-2-ad-react-sas-1/src/reducers/products.js"],"names":["productsActionTypes","slugify","INITIAL_STATE","products","lastRequest","product","cart","isOpenSearch","productsReducer","state","action","type","payload","GET_PRODUCTS_REQUEST","Date","getTime","SET_PRODUCT_DETAIL","slug","color","catalog","find","name","color_slug","ADD_ITEM"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,uBAApC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,QAAQ,EAAE,EADU;AACN;AACdC,EAAAA,WAAW,EAAE,IAFO;AAGpBC,EAAAA,OAAO,EAAE,EAHW;AAGP;AACbC,EAAAA,IAAI,EAAE,EAJc;AAKpBD,EAAAA,OAAO,EAAE,EALW;AAMpBE,EAAAA,YAAY,EAAE;AANM,CAAtB;AASA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAK,GAAGP,aAAT,EAAwBQ,MAAxB,KAAmC;AAChE,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACE,SAAKX,mBAAmB,CAACa,oBAAzB;AACE,aAAO,EACL,GAAGJ,KADE;AAELN,QAAAA,QAAQ,EAAES,OAFL;AAGLR,QAAAA,WAAW,EAAE,IAAIU,IAAJ,GAAWC,OAAX;AAHR,OAAP;;AAMF,SAAKf,mBAAmB,CAACgB,kBAAzB;AACE,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAkBN,OAAxB;AACA,YAAMO,OAAO,GAAGV,KAAK,CAACN,QAAtB;AACA,aAAO,EACL,GAAGM,KADE;AAELJ,QAAAA,OAAO,EAAEc,OAAO,CAACC,IAAR,CACP,CAAC;AAAEC,UAAAA,IAAF;AAAQC,UAAAA;AAAR,SAAD,KACErB,OAAO,CAACoB,IAAD,CAAP,KAAkBJ,IAAlB,IAA0BK,UAAU,KAAKJ,KAFpC;AAFJ,OAAP;;AAQF,SAAKlB,mBAAmB,CAACuB,QAAzB;AACE,aAAO,EACL,GAAGd,KADE;AAELH,QAAAA,IAAI,EAAE,CAAC,GAAGG,KAAK,CAACH,IAAV,EAAgBM,OAAhB;AAFD,OAAP;;AAKF;AACE,aAAOH,KAAP;AA1BJ;AA6BD,CA/BM","sourcesContent":["import { productsActionTypes } from '../constants/products';\nimport { slugify } from '../modules/slugify';\n\nconst INITIAL_STATE = {\n  products: [], // mudar para catalog ou items\n  lastRequest: null,\n  product: {}, // mudar para catalogo\n  cart: [],\n  product: {},\n  isOpenSearch: false\n};\n\nexport const productsReducer = (state = INITIAL_STATE, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case productsActionTypes.GET_PRODUCTS_REQUEST:\n      return {\n        ...state,\n        products: payload,\n        lastRequest: new Date().getTime(),\n      };\n\n    case productsActionTypes.SET_PRODUCT_DETAIL:\n      const { slug, color } = payload;\n      const catalog = state.products;\n      return {\n        ...state,\n        product: catalog.find(\n          ({ name, color_slug }) =>\n            slugify(name) === slug && color_slug === color\n        ),\n      };\n\n    case productsActionTypes.ADD_ITEM:\n      return {\n        ...state,\n        cart: [...state.cart, payload],\n      };\n\n    default:\n      return state;\n  }\n\n};\n"]},"metadata":{},"sourceType":"module"}